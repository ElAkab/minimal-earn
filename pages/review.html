<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>R√©visions | Mind Stimulator</title>
		<link rel="stylesheet" href="../src/style.css" />
	</head>
	<body class="bg-gray-800 text-white min-h-screen">
		<header class="bg-black/25 flex justify-evenly items-center p-5 sticky">
			<!-- Logo || Titre -->
			<a href="/" class="text-3xl font-bold cursor-pointer"
				><span class="text-blue-600">Mind </span>Stimulator</a
			></a
			>

			<div class="flex gap-2">
				<!-- Navigation -->
				<nav class="mr-5">
					<ul class="flex gap-2.5">
						<li>
							<a class="hover:underline" href="/pages/notes.html">Notes</a>
						</li>
						<li>
							<a class="hover:underline" href="/pages/review.html">R√©visions</a>
						</li>
						<li>
							<a class="hover:underline" href="/settings">Param√®tres</a>
						</li>
					</ul>
				</nav>

				<div class="font-bold">
					<label class="inline-flex items-center cursor-pointer">
						<input
							type="checkbox"
							id="toggle-interrogations"
							class="sr-only peer"
						/>
						<div
							class="relative w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"
						></div>
						<span class="ml-3 text-sm font-medium">Interrogations</span>
					</label>
				</div>
			</div>
		</header>

		<main class="px-8 py-6 max-w-4xl mx-auto">
			<h1 class="text-3xl font-bold mb-6">R√©visions</h1>

			<!-- √âtat : Chargement -->
			<div id="loading-state" class="text-center py-12 hidden">
				<div
					class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"
				></div>
				<p class="mt-4 text-gray-400">Chargement...</p>
			</div>

			<!-- √âtat : Aucune r√©vision -->
			<div id="no-review-state" class="text-center py-12 hidden">
				<svg
					class="mx-auto h-24 w-24 text-gray-600"
					fill="none"
					stroke="currentColor"
					viewBox="0 0 24 24"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
					/>
				</svg>
				<h2 class="mt-4 text-xl font-semibold">Aucune r√©vision</h2>
				<p class="mt-2 text-gray-400">Reviens plus tard üñïüèø</p>
				<a
					href="/"
					class="mt-6 inline-block px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded transition"
					>Cr√©er une note</a
				>
			</div>

			<!-- √âtat : Interrogations d√©sactiv√©es -->
			<div id="disabled-state" class="text-center py-12 hidden">
				<svg
					class="mx-auto h-24 w-24 text-gray-600"
					fill="none"
					stroke="currentColor"
					viewBox="0 0 24 24"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"
					/>
				</svg>
				<h2 class="mt-4 text-xl font-semibold">Interrogations d√©sactiv√©es</h2>
				<p class="mt-2 text-gray-400">
					Activez les interrogations pour commencer les r√©visions
				</p>
			</div>

			<!-- Carte de r√©vision -->
			<article
				id="review-card"
				class="hidden bg-gray-900 border-2 border-gray-700 rounded-xl p-6 shadow-xl"
			>
				<div class="flex justify-between items-start mb-4">
					<div>
						<span
							id="note-intensity-badge"
							class="inline-block bg-blue-500 text-xs px-3 py-1 rounded-full text-white font-semibold"
						></span>
						<div id="note-tags" class="mt-2"></div>
					</div>
					<button
						id="close-review"
						class="text-gray-400 hover:text-white transition"
						title="Fermer (√©chapper pour plus tard)"
					>
						<svg
							class="w-6 h-6"
							fill="none"
							stroke="currentColor"
							viewBox="0 0 24 24"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M6 18L18 6M6 6l12 12"
							/>
						</svg>
					</button>
				</div>

				<!-- Titre et description originale (cach√©s par d√©faut) -->
				<div id="note-context" class="mb-4 p-3 bg-gray-800 rounded hidden">
					<h3 id="note-title" class="font-bold text-lg mb-1"></h3>
					<p id="note-description" class="text-sm text-gray-400"></p>
				</div>

				<!-- Question g√©n√©r√©e par l'IA -->
				<div class="mb-6">
					<h2 class="text-2xl font-bold mb-4">Question</h2>
					<p id="question-text" class="text-lg leading-relaxed"></p>
				</div>

				<!-- Champ de r√©ponse -->
				<div class="mb-4">
					<label class="block text-sm font-medium mb-2" for="answer-input"
						>Votre r√©ponse</label
					>
					<textarea
						id="answer-input"
						rows="4"
						class="w-full p-3 bg-gray-800 border border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none"
						placeholder="√âcrivez votre r√©ponse ici..."
					></textarea>
				</div>

				<!-- Actions -->
				<div class="flex gap-3 flex-wrap">
					<button
						id="submit-answer"
						class="px-6 py-2 bg-blue-600 hover:bg-blue-500 rounded font-semibold transition"
					>
						Soumettre
					</button>
					<button
						id="show-hint"
						class="px-6 py-2 bg-amber-600 hover:bg-amber-500 rounded font-semibold transition"
					>
						Indice
					</button>
					<button
						id="dont-know"
						class="px-6 py-2 bg-red-600 hover:bg-red-500 rounded font-semibold transition"
					>
						Je ne sais pas
					</button>
					<button
						id="show-context"
						class="px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded transition"
					>
						Voir le contexte
					</button>
				</div>

				<!-- Feedback -->
				<div id="feedback-section" class="mt-6 p-4 rounded hidden"></div>
			</article>

			<!-- Statistiques -->
			<div id="stats-section" class="mt-8 grid grid-cols-3 gap-4">
				<div class="bg-gray-900 p-4 rounded-lg text-center">
					<div class="text-3xl font-bold text-green-500" id="stat-correct">
						0
					</div>
					<div class="text-sm text-gray-400">Correctes</div>
				</div>
				<div class="bg-gray-900 p-4 rounded-lg text-center">
					<div class="text-3xl font-bold text-red-500" id="stat-incorrect">
						0
					</div>
					<div class="text-sm text-gray-400">Incorrectes</div>
				</div>
				<div class="bg-gray-900 p-4 rounded-lg text-center">
					<div class="text-3xl font-bold text-blue-500" id="stat-remaining">
						0
					</div>
					<div class="text-sm text-gray-400">Restantes</div>
				</div>
			</div>
		</main>

		<script type="module" src="../src/review.js"></script>
	</body>
</html>
